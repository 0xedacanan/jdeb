<project name="JDeb Ant tests">

  <taskdef name="deb" classname="org.vafer.jdeb.ant.DebAntTask"/>

  <target name="missing-control">
    <deb destfile="test.deb"/>
  </target>

  <target name="invalid-control">
    <deb destfile="test.deb" control="testbuild.xml"/>
  </target>

  <target name="missing-destfile">
    <deb control="org/vafer/jdeb/deb/control">
      <data src="org/vafer/jdeb/deb/invalid.tgz"/>
    </deb>
  </target>

  <target name="empty-package">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control"/>
  </target>

  <target name="with-archive">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <data src="org/vafer/jdeb/deb/data.tgz"/>
    </deb>
  </target>

  <target name="with-missing-archive">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <data src="org/vafer/jdeb/deb/invalid.tgz"/>
    </deb>
  </target>

  <target name="with-directory">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <data src="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="with-missing-directory">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <data src="org/vafer/jdeb/deb/invalid"/>
    </deb>
  </target>

  <target name="verbose-enabled">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control" verbose="true">
      <data src="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="verbose-disabled">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control" verbose="false">
      <data src="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="fileset">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <fileset dir="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="tarfileset">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control">
      <tarfileset dir="org/vafer/jdeb/deb/data" prefix="foo" dirmode="700" filemode="600" username="ebourg" group="ebourg"/>
    </deb>
  </target>

  <target name="unknown-compression">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control" compression="rar">
      <fileset dir="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="bzip2-compression">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control" compression="bzip2">
      <fileset dir="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

  <target name="no-compression">
    <deb destfile="test.deb" control="org/vafer/jdeb/deb/control" compression="none">
      <fileset dir="org/vafer/jdeb/deb/data"/>
    </deb>
  </target>

</project>
